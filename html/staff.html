<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Staff Attendance System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="../styles/staff.css" />
  <link rel="shortcut icon" href="../assets/image.jpg" type="image/x-icon">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo">
      <h2><i class="fas fa-chalkboard-teacher"></i> Staff Portal</h2>
      <p>Attendance Management</p>
    </div>

    <div class="menu-items">
      <div class="menu-item active" data-target="second-year">
        <i class="fas fa-2"></i>
        <span>Second Year</span>
      </div>
      <div class="menu-item" data-target="third-year">
        <i class="fas fa-3"></i>
        <span>Third Year</span>
      </div>
      <div class="menu-item" data-target="fourth-year">
        <i class="fas fa-4"></i>
        <span>Fourth Year</span>
      </div>
      <div class="menu-item" data-target="attendance-stats">
        <i class="fas fa-chart-pie"></i>
        <span>Attendance Stats</span>
      </div>
    </div>
    <div class="logout-item" data-target="logout">
      <i class="fas fa-sign-out-alt"></i>
      <span><a href="../index.html">Logout</a></span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="header">
      <h1>
        <i class="fas fa-calendar-check"></i> Attendance Management
        <span class="badge">Staff</span>
      </h1>
      <div class="date-section">
        <span><i class="fas fa-calendar-alt"></i> Date:</span>
        <input type="date" class="date-picker" id="attendance-date" />
      </div>
      <button id="reopen-day" class="btn btn-secondary" style="margin-left: 10px;">
        <i class="fas fa-undo"></i> Reopen This Day
      </button>

      <div class="user-info">
        <div class="avatar">
          <i class="fas fa-user"></i>
        </div>
        <div>
          <div id="logged-in-staff-name">Prof. Sarma</div>
          <div style="font-size: 12px; color: #64748b">Computer Science</div>
        </div>
      </div>
    </div>

    <!-- Second Year Section -->
    <div id="second-year" class="content-section active">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-2"></i> Second Year Students</h2>
          <div>
            <input type="text" placeholder="Search students..." style="
                  padding: 10px;
                  border: 2px solid #e5e7eb;
                  border-radius: 8px;
                " />
          </div>
        </div>
        <div class="table-container">
          <table class="attendance-table">
            <thead>
              <tr>
                <th>S.No</th>
                <th>Register Number</th>
                <th>Name</th>
                <th>Attendance</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>

          </table>
          <div style="text-align: right; margin-top: 10px;">
            <button class="btn btn-primary save-attendance-btn">
              <i class="fas fa-check-circle"></i> Done
            </button>
          </div>

        </div>
      </div>
    </div>

    <!-- Third Year Section -->
    <div id="third-year" class="content-section">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-3"></i> Third Year Students</h2>
          <div>
            <input type="text" placeholder="Search students..." style="
                  padding: 10px;
                  border: 2px solid #e5e7eb;
                  border-radius: 8px;
                " />
          </div>
        </div>
        <div class="table-container">
          <table class="attendance-table">
            <thead>
              <tr>
                <th>S.No</th>
                <th>Register Number</th>
                <th>Name</th>
                <th>Attendance</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>

            </tbody>
          </table>
          <div style="text-align: right; margin-top: 10px;">
            <button class="btn btn-primary save-attendance-btn">
              <i class="fas fa-check-circle"></i> Done
            </button>
          </div>

        </div>
      </div>
    </div>

    <!-- Fourth Year Section -->
    <div id="fourth-year" class="content-section">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-4"></i> Fourth Year Students</h2>
          <div>
            <input type="text" placeholder="Search students..." style="
                  padding: 10px;
                  border: 2px solid #e5e7eb;
                  border-radius: 8px;
                " />
          </div>
        </div>
        <div class="table-container">
          <table class="attendance-table">
            <thead>
              <tr>
                <th>S.No</th>
                <th>Register Number</th>
                <th>Name</th>
                <th>Attendance</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>

            </tbody>
          </table>
          <div style="text-align: right; margin-top: 10px;">
            <button class="btn btn-primary save-attendance-btn">
              <i class="fas fa-check-circle"></i> Done
            </button>
          </div>


        </div>
      </div>
    </div>


    <!-- Attendance Stats Section -->
    <div id="attendance-stats" class="content-section">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-chart-line"></i> Attendance Statistics</h2>

          <!-- Toggle buttons -->
          <div class="tab-buttons">
            <button class="tab-btn active" data-tab="daily">Daily Stats</button>
            <button class="tab-btn" data-tab="monthly">Monthly Stats</button>
          </div>
        </div>

        <!-- Daily Stats -->
        <div id="daily-stats" class="tab-content active">
          <div class="stats-container">
            <div class="stat-card" data-year="second">
              <div class="stat-icon blue"><i class="fas fa-2"></i></div>
              <div class="stat-info">
                <h3>0%</h3>
                <p>Second Year</p>
              </div>
            </div>
            <div class="stat-card" data-year="third">
              <div class="stat-icon green"><i class="fas fa-3"></i></div>
              <div class="stat-info">
                <h3>0%</h3>
                <p>Third Year</p>
              </div>
            </div>
            <div class="stat-card" data-year="fourth">
              <div class="stat-icon orange"><i class="fas fa-4"></i></div>
              <div class="stat-info">
                <h3>0%</h3>
                <p>Fourth Year</p>
              </div>
            </div>
          </div>
          <canvas id="dailyChart" style="padding: 10px; height: 350px;"></canvas>
        </div>

        <!-- Monthly Stats -->
        <div id="monthly-stats" class="tab-content">
          <canvas id="monthlyChart" style="padding: 10px; height: 350px;"></canvas>
          <div class="summary" style="text-align: center; margin-top: 10px;">
            <p style="color: #64748b;">Average monthly attendance per year</p>
          </div>
          <div style="display: flex; justify-content: flex-end; align-items: center; gap: 10px; margin-top: 20px;">
            <select id="report-year"
              style="padding: 8px 12px; border-radius: 6px; border: 2px solid #e5e7eb; font-weight: 500;">
              <option value="">Select Year</option>
              <option value="2">Second Year</option>
              <option value="3">Third Year</option>
              <option value="4">Fourth Year</option>
            </select>

            <button id="generate-report" class="btn btn-primary">
              <i class="fas fa-file-pdf"></i> Generate Report
            </button>
          </div>


        </div>
      </div>
    </div>


  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

  <script src="../src/staff.js"></script>

</body>

</html>